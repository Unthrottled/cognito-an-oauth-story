<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" name="viewport">

  <title>reveal.js</title>

  <link href="dist/reset.css" rel="stylesheet">
  <link href="dist/reveal.css" rel="stylesheet">
  <link href="dist/theme/blood.css" id="theme" rel="stylesheet">

  <!-- Theme used for syntax highlighted code -->
  <link href="plugin/highlight/monokai.css" id="highlight-theme" rel="stylesheet">
</head>
<body>
<div class="reveal">
  <div class="slides">
    <section>
      <h1>An OAuth Story</h1>
      <h4>Featuring Amazon's Cognito</h4>
      <p>
        <small>Presented by <a href="http://unthrottled.io" target="_blank">Alex Simons</a></small>
      </p>
    </section>

    <section>
      <h2>The Quest for Social Sign-On</h2>
      <p class="fragment fade-up">A simplified tale about security.</p>
    </section>

    <section>
      <section>
        <h2>An idea was born!</h2>
        <p class="fragment fade-up">
          Build an application that does a thing!
        </p>
        <p class="fragment fade-up">
          And that can also be shared (securely).
        </p>
      </section>
    </section>

    <section>
      <section>
        <h2>How should I approach this?</h2>
        <p class="fragment fade-up">1. I shouldn't hate myself.</p>
        <p class="fragment fade-up">2. Support many social logins.</p>
      </section>
      <section>
        <div>
          <p>Eyes on the prize.</p>
          <img alt="the end goal" src="images/social_logins.png"/>
        </div>
        <p class="fragment">It's just one click, how hard can it be?</p>
        <p class="fragment">Not all buttons are created equal.</p>
        <p class="fragment">How do I go from no button to button?</p>
      </section>
    </section>

    <section>
      <section>
        <h2>Button-Based Security!</h2>
        <br/>
        <div class="fragment fade-up">Buttons not only just login.</div>
        <div class="fragment fade-up">They also bring API gifts!</div>
      </section>
      <section>
        <h2>Fancy Header JSON</h2>
        <p class="fragment fade-up">JSON you can give to your friends/APIs!</p>
        <p class="fragment fade-up">
          JSON that you can trust!
        </p>
        <p class="fragment fade-up">
          JSON never give you up! (for a little bit)
        </p>
        <p class="fragment fade-up">
          JSON never let you down!
        </p>
      </section>
      <section>
        <h3>Your friends need this!</h3>
        <pre>
							<code data-noescape data-trim>
								{
								  "preferred_username": "DatBoi",
								  "given_name": "Alex",
								  "name": "Alex Simons",
								  "family_name": "Simons",
								  "email": "alexsimons9999@gmail.com"
								}
						  </code>
						</pre>
        <p class="fade-up fragment">
          How else will they know who I am?
        </p>
      </section>
      <section>
        <h3>Trust me on this!</h3>
        <pre>
							<code data-noescape data-trim>
								{
								  "kid": "694Pa2KEd7kyAVc420OTlsrLO90017s/w5RRJ2UcLTU=",
								  "alg": "RS256"
								}
								{
								  "iss": "https://google.com/fancy-json-maker",
								  "exp": 1594649669
								}
						  </code>
						</pre>
        <p class="fade-up fragment">
          More JSON, Less problems!
        </p>
        <p class="fade-up fragment">
          Built-in tamper proof technology!
        </p>
      </section>
      <section>
        <h3>Why is that important?</h3>
        <pre>
							<code data-noescape data-trim>
								{
								  //..
								  "preferred_username": "DatBoi",
								  "given_name": "Alex",
								  "name": "Alex Simons",
								  "family_name": "Simons",
								  "email": "alexsimons9999@gmail.com",
								  "access_scopes": [
								    "withdraw_monies:your-bank-account-lol"
								  ],
								  //...
								}
						  </code>
						</pre>
        <p class="fragment">
          Just trust your Fancy Header JSON issuer and their fingerprints.
        </p>
      </section>
      <section>
        <h3>FHJ has a Friend!</h3>
        <p class="fragment">
          Some Social login buttons (the OAuth kind) includes a bonus gift.
        </p>
        <p class="fragment">
          The power to get more FHJ!
        </p>
        <p class="fragment">
          Some button's Refresh Tokens are not always FHJ.
        </p>
      </section>
      <section>
        <h3>Tying it all together</h3>
        <pre>
        <code data-noescape data-trim>
          interface OAuthLoginButtonGift {
            access_token: FancyHeaderJSON;
            refresh_token: FancyHeaderJSON | SomethingElse;
         }
        </code>
        </pre>
        <p>
          A bunch of nerd stuff happens and you get this.
        </p>
      </section>
    </section>

    <section>
      <section>
        <h3>What can be done with this FHJ?</h3>
        <p class="fragment">
          It depends on what button I clicked.
        </p>
        <p class="fragment">
          And also what you asked for as well.
        </p>
      </section>
      <section>
        <h3>Ask and you might get it.</h3>
        <p class="fragment">
          Define the <strong>scopes</strong> of what your FHJ can do
        </p>
        <p class="fragment">
          You can ask for user's: Email or API access
        </p>
      </section>
      <section>
        <h3>Give me them resources!</h3>
        <p class="fragment">
          Your FHJ now can use API's such as
        </p>
        <p class="fragment">
          <a>https://api.github.com/users/octocat/followers</a>
        </p>
      </section>
      <section>
        <h3>What about my API?</h3>
        <p class="fragment">
          It now becomes a GitHub resource server!
        </p>
        <p class="fragment">
          Which only accepts FHJ from the GitHub Issuer
        </p>
      </section>
    </section>

    <section>
      <section>
        <h3>That's not what I want!</h3>
        <p class="fragment">
          That's good for building apps just for GitHub.
        </p>
        <p class="fragment">
          I need all the buttons and trust only one FHJ issuer!
        </p>
      </section>
      <section>
        <h3>What do I need?</h3>
        <p class="fragment">
          Something that issues FHJ.
        </p>
        <p class="fragment">
          Something that figures out who users are based on buttons.
        </p>
      </section>
    </section>

    <section>
      <section>
        <h3>Button Based Authentication!</h3>
        <p class="fragment">
          I need to know who my user is (eg: their email).
        </p>
      </section>
      <section>
        <h3>Can OAuth do this?</h3>
        <p class="fragment">
          Nope.
        </p>
      </section>
      <section>
        <h3>Not all buttons are created equal.</h3>
        <img alt="the end goal" src="images/social_logins.png"/>
        <p class="fragment">
          I need something different
        </p>
      </section>
    </section>

    <section>
      <section>
        <h3>I need OpenID Connect.</h3>
        <p class="fragment">
          What's the difference?
        </p>
      </section>
      <section>
        <h3>This is the difference</h3>
        <pre>
        <code data-noescape data-trim>
          interface OAuthLoginButtonGift {
            access_token: FancyHeaderJSON;
            refresh_token: FancyHeaderJSON | SomethingElse;
          }

          interface OpenIDConnectButtonGift extends OAuthLoginButtonGift {
            id_token: FancyHeaderJSON;
          }
        </code>
        </pre>
        <p class="fragment">
          Now what?
        </p>
      </section>
    </section>

    <section data-background="http://i.giphy.com/90F8aUepslB84.gif">
      <h2 style="color: white; text-shadow: 3px 0 0 #000, 0 -3px 0 #000, 0 3px 0 #000, -3px 0 0 #000;">
        It's dat boi!
      </h2>
    </section>

    <section>
      <h2>Recap</h2>
      <p class="fragment fade-up">How to mimic a production like environment locally.</p>
      <p class="fragment fade-up">Deploy to your own production <span style="font-style: italic">without</span>
        OpenShift.</p>
      <p class="fragment fade-up">Get basic working knowledge AWS and some DevOps techniques.</p>
      <p class="fragment fade-up">How to minimize the amount of costs you will be responsible to pay.</p>
    </section>

    <section style="text-align: left;">
      <h1>THE END</h1>
      <p>
        - <a href="https://github.com/Unthrottled/acari-api" target="_blank">To see my production setup.</a> <br>
        - <a href="https://github.com/Unthrottled/frugal-aws" target="_blank">Source code from this
        presentation</a><br/>
        - <a href="https://frugal-aws.unthrottled.io" target="_blank">Slides in website format.</a>
      </p>
    </section>
  </div>
</div>

<script src="dist/reveal.js"></script>
<script src="plugin/notes/notes.js"></script>
<script src="plugin/markdown/markdown.js"></script>
<script src="plugin/highlight/highlight.js"></script>
<script>
  // More info about initialization & config:
  // - https://revealjs.com/initialization/
  // - https://revealjs.com/config/
  Reveal.initialize({
    hash: true,

    // Learn about plugins: https://revealjs.com/plugins/
    plugins: [RevealMarkdown, RevealHighlight, RevealNotes]
  });
</script>
</body>
</html>
